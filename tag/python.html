<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <!-- Set the viewport width to device width for mobile -->
    <meta name="viewport" content="width=device-width" />

    <title>☆挑灯乄观星☆ - python</title>

    <link rel="stylesheet" href="/theme/css/normalize.css" />
    <link rel="stylesheet" href="/theme/css/foundation.min.css" />
    <link rel="stylesheet" href="/theme/css/style.css" />
    <link rel="stylesheet" href="/theme/css/pygments.css" />	
    <script src="/theme/js/modernizr.js"></script>
</head>

<body>

<!-- Nav Bar -->
<nav>
<div class="top-bar">
<div class="row">
    <div class="large-9 large-centered columns">
	    <h1><a href="">☆挑灯乄观星☆</a></h1>
    </div>
</div>
</div>

<!-- Show menu items and pages -->
<div class="row">
<div class="large-9 columns">
    <ul class="button-group navigation">

    </ul>
</div>
</div>
</nav>
<!-- End Nav -->


<!-- Main Page Content and Sidebar -->
<div class="row">

    <!-- Main Blog Content -->
    <div class="large-9 columns">
        
        

            <article>
                <a href="/pythonxu-ni-huan-jing-virtualenv.html"><h3 class="article-title">python虚拟环境virtualenv</h3></a>
<h6 class="subheader" title="2015-03-10T00:00:00+08:00">2015-03-10 00:00:00
</h6>


<h2>virtualenv</h2>
<p>用于创建独立的Python环境，多个Python相互独立，互不影响，它能够： </p>
<ol>
<li>
<p><strong>在没有权限的情况下安装新套件</strong></p>
</li>
<li>
<p><strong>不同应用可以使用不同的套件版本</strong></p>
</li>
<li>
<p><strong>套件升级不影响其他应用</strong></p>
</li>
</ol>
<h3>安装</h3>
<div class="highlight"><pre>sudo apt-get install python-virtualenv
</pre></div>


<h3>使用方法</h3>
<div class="highlight"><pre>virtualenv [虚拟环境名称]
</pre></div>


<p>如，创建<code>ENV</code>的虚拟环境</p>
<div class="highlight"><pre>virtualenv ENV
</pre></div>


<p>默认情况下，虚拟环境会依赖系统环境中的site packages，就是说系统中已经安装好的第三方package也会安装在虚拟环境中，如果不想依赖这些package，那么可以加上参数 --no-site-packages建立虚拟环境</p>
<div class="highlight"><pre>virtualenv --no-site-packages [虚拟环境名称]
</pre></div>


<h3>启动虚拟环境</h3>
<div class="highlight"><pre>cd ENV
source ./bin/activate
</pre></div>


<p>注意此时命令行会多一个(ENV)，ENV为虚拟环境名称，接下来所有模块都只会安装到该目录中去。</p>
<h3>退出虚拟环境</h3>
<div class="highlight"><pre>deactivate
</pre></div>


<h3>在虚拟环境安装Python套件</h3>
<p>Virtualenv 附带有pip安装工具，因此需要安装的套件可以直接运行：</p>
<div class="highlight"><pre>pip install [套件名称]
</pre></div>


<p>如果没有启动虚拟环境，系统也安装了pip工具，那么套件将被安装在系统环境中，为了避免发生此事，可以在<code>~/.bashrc</code>文件中加上：</p>
<div class="highlight"><pre>export PIP_REQUIRE_VIRTUALENV=true
</pre></div>


<p>或者让在执行pip的时候让系统自动开启虚拟环境：</p>
<div class="highlight"><pre>export PIP_RESPECT_VIRTUALENV=true
</pre></div>


<hr />
<h2>Virtualenvwrapper</h2>
<p>Virtaulenvwrapper是virtualenv的扩展包，用于更方便管理虚拟环境，它可以做：</p>
<ol>
<li>
<p><strong>将所有虚拟环境整合在一个目录下</strong></p>
</li>
<li>
<p><strong>管理（新增，删除，复制）虚拟环境</strong></p>
</li>
<li>
<p><strong>切换虚拟环境</strong></p>
</li>
<li>
<p><strong>...</strong></p>
</li>
</ol>
<h3>安装</h3>
<div class="highlight"><pre>sudo easy_install virtualenvwrapper
</pre></div>


<p>此时还不能使用virtualenvwrapper，默认virtualenvwrapper安装在/usr/local/bin下面，实际上你需要运行virtualenvwrapper.sh文件才行，先别急，打开这个文件看看,里面有安装步骤，我们照着操作把环境设置好。</p>
<p>创建目录用来存放虚拟环境</p>
<div class="highlight"><pre><span class="x">mkdir </span><span class="p">$</span><span class="nv">HOME</span><span class="x">/.virtualenvs</span>
</pre></div>


<p>在<code>~/.bashrc</code>中添加行：</p>
<div class="highlight"><pre><span class="x">export WORKON_HOME=</span><span class="p">$</span><span class="nv">HOME</span><span class="x">/.virtualenvs</span>
</pre></div>


<p>在<code>~/.bashrc</code>中添加行：</p>
<div class="highlight"><pre>source /usr/local/bin/virtualenvwrapper.sh
</pre></div>


<p>运行：</p>
<div class="highlight"><pre>source ~/.bashrc
</pre></div>


<p>此时virtualenvwrapper就可以使用了。</p>
<p><strong>列出虚拟环境列表</strong></p>
<div class="highlight"><pre>workon
</pre></div>


<p>也可以使用</p>
<div class="highlight"><pre>lsvirtualenv
</pre></div>


<p><strong>新建虚拟环境</strong></p>
<div class="highlight"><pre>mkvirtualenv [虚拟环境名称]
</pre></div>


<p><strong>启动/切换虚拟环境</strong></p>
<div class="highlight"><pre>workon [虚拟环境名称]
</pre></div>


<p><strong>删除虚拟环境</strong></p>
<div class="highlight"><pre>rmvirtualenv [虚拟环境名称]
</pre></div>


<p><strong>离开虚拟环境</strong></p>
<div class="highlight"><pre>deactivate
</pre></div><p class="subheader">Category: <a href="/category/develop.html">develop</a>

    Tagged: 
    <a href="/tag/python.html">python </a>
</p>



            </article>


                <hr  class="gradient"/>


        


            <article>
                <a href="/ec2shang-smartereduhou-tai-an-zhuang-zhi-sheng-ji-python26dao-python27.html"><h3 class="article-title">ec2上SmarterEdu后台安装 之 升级python2.6到python2.7</h3></a>
<h6 class="subheader" title="2015-03-04T00:00:00+08:00">2015-03-04 00:00:00
</h6>


<p>在aws的ec2上安装SmarterEdu后台时，由于ec2上python是版本2.6等原因，需要先升级ec2环境。(SmarterEdu后台使用的是python2.7+django1.6)</p>
<p>本操作也适用于想把python2.6升级到python2.7的朋友。</p>
<h2>SmarterEdu_EC2_Update</h2>
<p>setuptools FTP:</p>
<div class="highlight"><pre>https://pypi.python.org/packages/source/s/setuptools/
</pre></div>


<p>mod_wsgi地址：</p>
<div class="highlight"><pre>https://modwsgi.googlecode.com/files/mod_wsgi-3.3.tar.gz
</pre></div>


<h2>以下为升级python并安装辅助工具包</h2>
<h4>参考：http://www.haogongju.net/art/2639594</h4>
<h3>1) 安装zlib</h3>
<div class="highlight"><pre>yum install zlib
yum install zlib-devel
</pre></div>


<p>＊zlib.h ...</p><p class="subheader">Category: <a href="/category/develop.html">develop</a>

    Tagged: 
    <a href="/tag/aws.html">aws </a>
    <a href="/tag/linux.html">linux </a>
    <a href="/tag/python.html">python </a>
    <a href="/tag/smarteredu.html">smarteredu </a>
</p>



                <a class="button radius secondary small right" href="/ec2shang-smartereduhou-tai-an-zhuang-zhi-sheng-ji-python26dao-python27.html">Read More</a>
                <hr  class="gradient"/>
            </article>

            <!-- /#posts-list -->
<div class="pagination-centered">
<h6 class="subheader">Page 1 of 1</h6>

<p>

</p>
</div>

    </div>
    <!-- End Main Content -->

    <!-- Sidebar -->
    <aside class="large-3 columns">
        <h5 class="sidebar-title">Site</h5>
        <ul class="side-nav">
            <li><a href="/archives.html">Archives</a>
            <li><a href="/tags.html">Tags</a>
        </ul>

		
        <h5 class="sidebar-title">Categories</h5>
        <ul class="side-nav">
            <li><a href="/category/art.html">art</a></li>
            <li><a href="/category/develop.html">develop</a></li>
   
        </ul>

        <h5 class="sidebar-title">Links</h5>
        <ul class="side-nav">
            <li><a href="http://getpelican.com/">Pelican</a></li>
            <li><a href="http://python.org/">Python.org</a></li>
            <li><a href="http://jinja.pocoo.org/">Jinja2</a></li>
        </ul>
		
        <h5 class="sidebar-title">Social</h5>
        <ul class="side-nav">
            <li><a href="http://smarteredu.org/">SmarterEdu</a></li>
        </ul>

    </aside> <!-- End Sidebar -->

</div> <!-- End Main Content and Sidebar -->


<!-- Footer -->
<footer class="row">
    <div class="large-12 columns">
        <hr />
        <div class="row">
            <div class="large-6 columns">
              <!--                  <p>☆挑灯乄观星☆ by cn</p> -->
            </div>
            </div>
    </div>
</footer>
</body>
</html>